@{
    var isFullPage = ViewData["FullPage"] as bool? == true;
    var hideGlobalFooter = ViewData["HideGlobalFooter"] as bool? == true;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - MotorsHut</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/MotorsHut.styles.css" asp-append-version="true" />

    <style>
        /* ── Global ───────────────────────────────────────── */
        *, *::before, *::after { box-sizing: border-box; }

        html { scroll-behavior: smooth; }

        body {
            font-family: 'DM Sans', sans-serif;
            background: #06090f;
            color: #e2e8f0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            margin: 0;
        }

        /* ── Navbar ───────────────────────────────────────── */
        .mh-nav {
            position: sticky;
            top: 0;
            z-index: 200;
            height: 62px;
            display: flex;
            align-items: center;
            background: rgba(6, 9, 15, 0.82);
            backdrop-filter: blur(18px) saturate(160%);
            -webkit-backdrop-filter: blur(18px) saturate(160%);
            border-bottom: 1px solid rgba(255, 255, 255, 0.055);
            padding: 0 1.6rem;
        }

        .mh-nav__inner {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            max-width: 1440px;
            margin: 0 auto;
        }

        /* Brand */
        .mh-brand {
            display: flex;
            align-items: center;
            gap: 0.52rem;
            text-decoration: none;
            flex-shrink: 0;
        }

        .mh-brand__icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, #d97706, #f59e0b);
            border-radius: 8px;
            display: grid;
            place-items: center;
            box-shadow: 0 4px 14px rgba(245, 158, 11, 0.35);
        }

        .mh-brand__icon svg {
            width: 18px;
            height: 18px;
            color: #0f1623;
        }

        .mh-brand__text {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.5rem;
            letter-spacing: 0.08em;
            color: #f1f5f9;
            line-height: 1;
        }

        /* Nav links */
        .mh-nav__links {
            display: flex;
            align-items: center;
            gap: 0.15rem;
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .mh-nav__link {
            font-size: 0.86rem;
            font-weight: 500;
            color: #94a3b8;
            text-decoration: none;
            padding: 0.42rem 0.9rem;
            border-radius: 8px;
            transition: color 0.18s, background 0.18s;
            letter-spacing: 0.01em;
            white-space: nowrap;
        }

        .mh-nav__link:hover {
            color: #f1f5f9;
            background: rgba(255, 255, 255, 0.065);
        }

        .mh-nav__link.active {
            color: #f59e0b;
        }

        /* Nav right */
        .mh-nav__right {
            display: flex;
            align-items: center;
            gap: 0.55rem;
        }

        .mh-nav__pill {
            font-size: 0.82rem;
            font-weight: 600;
            color: #94a3b8;
            text-decoration: none;
            padding: 0.4rem 0.9rem;
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.1);
            transition: color 0.18s, border-color 0.18s, background 0.18s;
            white-space: nowrap;
        }

        .mh-nav__pill:hover {
            color: #f1f5f9;
            border-color: rgba(255,255,255,0.2);
            background: rgba(255,255,255,0.05);
        }

        .mh-nav__cta {
            font-size: 0.82rem;
            font-weight: 700;
            color: #0f1623;
            text-decoration: none;
            padding: 0.44rem 1.05rem;
            border-radius: 8px;
            background: linear-gradient(135deg, #d97706, #f59e0b);
            transition: filter 0.18s, transform 0.12s;
            white-space: nowrap;
            box-shadow: 0 3px 12px rgba(245,158,11,0.3);
        }

        .mh-nav__cta:hover {
            filter: brightness(1.08);
            transform: translateY(-1px);
            color: #0f1623;
        }

        /* Hamburger */
        .mh-nav__toggle {
            display: none;
            flex-direction: column;
            justify-content: center;
            gap: 5px;
            background: none;
            border: none;
            cursor: pointer;
            padding: 4px;
            width: 32px;
            height: 32px;
        }

        .mh-nav__toggle span {
            display: block;
            height: 2px;
            width: 100%;
            background: #94a3b8;
            border-radius: 2px;
            transition: all 0.25s;
        }

        /* Mobile drawer */
        .mh-nav__drawer {
            display: none;
            position: fixed;
            top: 62px;
            left: 0;
            right: 0;
            background: rgba(6, 9, 15, 0.97);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255,255,255,0.07);
            padding: 1rem 1.5rem 1.5rem;
            z-index: 199;
            flex-direction: column;
            gap: 0.2rem;
        }

        .mh-nav__drawer.open { display: flex; }

        .mh-nav__drawer .mh-nav__link {
            display: block;
            padding: 0.65rem 0.5rem;
            font-size: 1rem;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .mh-nav__drawer-btns {
            display: flex;
            gap: 0.6rem;
            margin-top: 0.8rem;
        }

        .mh-nav__drawer-btns .mh-nav__pill,
        .mh-nav__drawer-btns .mh-nav__cta {
            flex: 1;
            text-align: center;
            padding: 0.65rem;
        }

        /* ── Main wrapper ──────────────────────────────── */
        .mh-main-wrap {
            flex: 1;
        }

        .mh-main-wrap.full {
            padding: 0;
        }

        .mh-main-wrap.contained {
            max-width: 1300px;
            margin: 0 auto;
            padding: 2rem 1.5rem 3rem;
            width: 100%;
        }

        /* ── Footer ───────────────────────────────────── */
        .mh-footer {
            border-top: 1px solid rgba(255,255,255,0.06);
            padding: 1.2rem 1.6rem;
            text-align: center;
            color: #334155;
            font-size: 0.82rem;
        }

        .mh-footer a {
            color: #475569;
            text-decoration: none;
            transition: color 0.18s;
        }

        .mh-footer a:hover { color: #94a3b8; }

        /* ── Responsive ───────────────────────────────── */
        @@media (max-width: 900px) {
            .mh-nav__links,
            .mh-nav__right { display: none; }
            .mh-nav__toggle { display: flex; }
        }
    </style>
</head>

<body>
    <!-- Navbar -->
    <nav class="mh-nav" id="mhNav">
        <div class="mh-nav__inner">
            <a class="mh-brand" asp-controller="Home" asp-action="Index" aria-label="MotorsHut Home">
                <div class="mh-brand__icon">
                    <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                        <path d="M4 14.5V16a1 1 0 0 0 1 1h1a2 2 0 1 0 4 0h4a2 2 0 1 0 4 0h1a1 1 0 0 0 1-1v-1.5l-1.2-4.1A2 2 0 0 0 16.9 9H7.1a2 2 0 0 0-1.9 1.4L4 14.5Z" stroke="currentColor" stroke-width="1.7" stroke-linejoin="round"/>
                        <path d="M7.5 9 9 6.8A1.5 1.5 0 0 1 10.2 6h3.6A1.5 1.5 0 0 1 15 6.8L16.5 9" stroke="currentColor" stroke-width="1.7" stroke-linecap="round"/>
                        <circle cx="8" cy="17" r="1.2" fill="currentColor"/>
                        <circle cx="16" cy="17" r="1.2" fill="currentColor"/>
                    </svg>
                </div>
                <span class="mh-brand__text">MotorsHut</span>
            </a>

            <ul class="mh-nav__links">
                <li><a class="mh-nav__link" asp-controller="Home" asp-action="Index">Home</a></li>
                <li><a class="mh-nav__link" asp-controller="Home" asp-action="Index" asp-fragment="featured">Cars</a></li>
                <li><a class="mh-nav__link" asp-controller="Home" asp-action="Showcase">Browse Cars</a></li>
                <li><a class="mh-nav__link" asp-controller="Home" asp-action="Index" asp-fragment="about">About</a></li>
                <li><a class="mh-nav__link" asp-controller="Home" asp-action="Index" asp-fragment="contact">Contact</a></li>
            </ul>

            <div class="mh-nav__right">
                <a class="mh-nav__pill" asp-controller="Account" asp-action="Login">Sign In</a>
                <a class="mh-nav__cta" href="#">List Your Car</a>
            </div>

            <button class="mh-nav__toggle" id="mhToggle" aria-label="Open menu">
                <span></span><span></span><span></span>
            </button>
        </div>
    </nav>

    <!-- Mobile Drawer -->
    <div class="mh-nav__drawer" id="mhDrawer">
        <a class="mh-nav__link" asp-controller="Home" asp-action="Index">Home</a>
        <a class="mh-nav__link" asp-controller="Home" asp-action="Index" asp-fragment="featured">Cars</a>
        <a class="mh-nav__link" asp-controller="Home" asp-action="Showcase">Browse Cars</a>
        <a class="mh-nav__link" asp-controller="Home" asp-action="Index" asp-fragment="about">About</a>
        <a class="mh-nav__link" asp-controller="Home" asp-action="Index" asp-fragment="contact">Contact</a>
        <div class="mh-nav__drawer-btns">
            <a class="mh-nav__pill" asp-controller="Account" asp-action="Login">Sign In</a>
            <a class="mh-nav__cta" href="#">List Your Car</a>
        </div>
    </div>

    <!-- Page content -->
    <div class="mh-main-wrap @(isFullPage ? "full" : "contained")">
        <main role="main">
            @RenderBody()
        </main>
    </div>

    @if (!hideGlobalFooter)
    {
        <footer class="mh-footer">
            <div>&copy; 2026 MotorsHut &mdash; <a asp-area="" asp-controller="Home" asp-action="Privacy">Privacy Policy</a></div>
        </footer>
    }

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    @if (TempData["SuccessMessage"] is string successMessage)
    {
        <script>
            Swal.fire({
                toast: true,
                position: "top-end",
                icon: "success",
                title: @Html.Raw(System.Text.Json.JsonSerializer.Serialize(successMessage)),
                showConfirmButton: false,
                timer: 2200,
                timerProgressBar: true
            });
        </script>
    }

    <script src="~/js/site.js" asp-append-version="true"></script>

    <script>
        // Mobile nav toggle
        const toggle = document.getElementById('mhToggle');
        const drawer = document.getElementById('mhDrawer');
        toggle?.addEventListener('click', () => {
            drawer.classList.toggle('open');
            const bars = toggle.querySelectorAll('span');
            const isOpen = drawer.classList.contains('open');
            bars[0].style.transform = isOpen ? 'translateY(7px) rotate(45deg)' : '';
            bars[1].style.opacity  = isOpen ? '0' : '';
            bars[2].style.transform = isOpen ? 'translateY(-7px) rotate(-45deg)' : '';
        });

        // Navbar scroll transparency
        const nav = document.getElementById('mhNav');
        window.addEventListener('scroll', () => {
            nav.style.background = window.scrollY > 20
                ? 'rgba(6, 9, 15, 0.96)'
                : 'rgba(6, 9, 15, 0.82)';
        }, { passive: true });
    </script>

    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
